(this.webpackJsonpovertime=this.webpackJsonpovertime||[]).push([[0],{131:function(e,t,n){e.exports=n(145)},140:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(10),r=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function o(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}var c=n(0),l=n.n(c),i=n(17),u=n.n(i),s=n(14),m=(n(140),n(24)),d=n(20),f=n(29),p=n(30),b=n(31),g=n(55),v=n(57),E=n(38),h=n(121),k=n(187),w=n(201),O=n(148),y=n(18),j=n.n(y),C=window.localStorage,S=function(e,t){if("Total"===t)return!0;var n=j()(e[0]),a=t.toLowerCase(),r=j()().startOf(a).valueOf(),o=j()().endOf(a).valueOf();return n.isBetween(r,o)},x=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return!!t||("break"!==e[2].toLowerCase()||!!(n&&e[1]<9e5))},B=function(e){return new Date(e).toLocaleDateString("de-DE")},H=function(e){return j()(e).to(j()(0),!0)},M=function(e){return j()(e).utcOffset(0).format("HH:mm")},R=function(e,t){return"".concat(e.replace(/[^a-zA-Z]+/g,"_"),"_").concat(t.toLowerCase(),".csv")},W=function(e){window.confirm("ARE YOU REALLY SURE?")&&C.removeItem("overtime")},T=n(147),N=n(120),A=n(82),P=n.n(A),I=n(27),U=n(22),D=n(76),L={list:[],preset:["Work","Prep","Meet"],workHours:32,user:"teacher",mode:"Total",showSettings:!1,active:!1,start:null,comment:"",mailToAddress:"boss@digitalcareerinstitute.org",countBreaks:!1,countBreaksUnder15Minutes:!1},F=window.localStorage,G=function(e){return F.setItem("overtime",JSON.stringify(e))},J=JSON.parse(F.getItem("overtime")||"false")||L,Y=null,z=function(e){return{setEdit:function(t){e({type:"setEdit",value:t})},setTimerComponent:function(t){e({type:"setTimerComponent",value:t})},addRecord:function(t){e({type:"addRecord",value:t})},delRecord:function(t){e({type:"delRecord",index:t})},editRecord:function(t,n){e({type:"editRecord",value:n,index:t})},setWorkHours:function(t){e({type:"setWorkHours",value:t})},setMode:function(t){e({type:"setMode",value:t})},setPreset:function(t){e({type:"setPreset",value:t})},setUser:function(t){e({type:"setUser",value:t})},setMailToAddress:function(t){e({type:"setMailToAddress",value:t})},setComment:function(t){e({type:"setComment",value:t})},addPreset:function(t){e({type:"addPreset",value:t})},delPresetId:function(t){e({type:"delPresetId",index:t})},swapComment:function(){e({type:"swapComment"})},toggle:function(){e({type:"toggle"})},clearTimer:function(){e({type:"clearTimer"})},toggleSettings:function(){e({type:"toggleSettings"})},toggleCountBreaks:function(){e({type:"toggleCountBreaks"})},toggleShortBreaks:function(){e({type:"toggleShortBreaks"})},insertWorkday:function(){e({type:"insertWorkday"})}}},_=function(e){return e},V=Object(D.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0,n=t.type,a=t.index,r=t.value,o=e,c=o.list,l=o.active,i=function(){return{active:!0,start:Date.now(),timer:s(Y)}},u=function(){var t=e,n=t.start,a=t.comment,r=t.timer,o=Date.now()-n;return clearInterval(r),{active:!1,start:Date.now(),comment:"",list:[[n,o,a]].concat(c)}},s=function(e){return setInterval((function(t){e.forceUpdate()}),1e3)};switch(n){case"setTimerComponent":Y=r;break;case"insertWorkday":e=Object(U.a)({},e,{list:[[j()().startOf("day").valueOf(),1e3*-e.workHours*60*60,"Workday"]].concat(c)});break;case"addRecord":e=Object(U.a)({},e,{list:[r].concat(c)});break;case"delRecord":e=Object(U.a)({},e,{list:Object(I.a)(c.filter((function(e,t){return t!==a})))});break;case"editRecord":c[a]=r,e=Object(U.a)({},e,{list:c.slice()});break;case"setWorkHours":e=Object(U.a)({},e,{workHours:parseFloat(r)});break;case"setMode":e=Object(U.a)({},e,{mode:r});break;case"setPreset":e=Object(U.a)({},e,{comment:r});break;case"setUser":e=Object(U.a)({},e,{user:r});break;case"setMailToAddress":e=Object(U.a)({},e,{mailToAddress:r});break;case"setComment":e=Object(U.a)({},e,{comment:r});break;case"setEdit":e=Object(U.a)({},e,{editRow:r});break;case"swapComment":if(!l)return e;e=Object(U.a)({},e,{},u(),{},i());break;case"toggle":e=Object(U.a)({},e,{},l?u():i());break;case"addPreset":e=Object(U.a)({},e,{preset:[r].concat(e.preset)});break;case"delPresetId":e=Object(U.a)({},e,{delPreset:!1,preset:e.preset.filter((function(e,t){return t!==a}))});break;case"toggleSettings":e=Object(U.a)({},e,{showSettings:!e.showSettings});break;case"toggleCountBreaks":e=Object(U.a)({},e,{countBreaks:!e.countBreaks});break;case"toggleShortBreaks":e=Object(U.a)({},e,{countShortBreaks:!e.countShortBreaks});break;case"clearTimer":clearInterval(e.timer)}return G(e),e})),Z=Object(s.b)(_,z)((function(e){var t=e.preset,n=e.addPreset,r=e.delPresetId,o=l.a.useState(""),c=Object(a.a)(o,2),i=c[0],u=c[1];return l.a.createElement(l.a.Fragment,null,l.a.createElement(h.a,{label:"Add Preset",name:"addComment",value:i,onChange:function(e){return u(e.target.value)},variant:"outlined",fullWidth:!0,InputProps:{endAdornment:l.a.createElement(T.a,{position:"end"},l.a.createElement(N.a,{"aria-label":"add preset",onClick:function(e){n(i),u("")}},l.a.createElement(P.a,null)))}}),t.map((function(e,t){return l.a.createElement(O.a,{key:t,variant:"contained",className:"preset",color:"secondary",onClick:function(e){return r(t)}},e)})))})),$=n(93),q=n.n($),K=Object(E.a)((function(e){return{paper:{"& > *":{marginBottom:e.spacing(2)},"& > button":{margin:e.spacing(1)},flexGrow:1,padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary}}})),Q=Object(s.b)(_,z)((function(e){e.toggleSettings;var t=e.user,n=e.setUser,a=e.workHours,r=e.setWorkHours,o=e.mailToAddress,c=e.setMailToAddress,i=e.countBreaks,u=e.toggleCountBreaks,s=e.countShortBreaks,m=e.toggleShortBreaks,d=K();return l.a.createElement(l.a.Fragment,null,l.a.createElement("form",{className:d.paper,noValidate:!0,autoComplete:"off"},l.a.createElement(h.a,{fullWidth:!0,variant:"outlined",label:"User",name:"user",value:t,onChange:function(e){return n(e.target.value)}}),l.a.createElement(h.a,{fullWidth:!0,variant:"outlined",label:"eMail Target",name:"mailToAddress",value:o,onChange:function(e){return c(e.target.value)}}),l.a.createElement(h.a,{fullWidth:!0,variant:"outlined",label:"Work Hours",name:"workHours",value:a,onChange:function(e){return r(e.target.value)}}),l.a.createElement(k.a,{control:l.a.createElement(w.a,{checked:i,onChange:u,value:"countBreaks"}),label:"Count Breaks"}),l.a.createElement(k.a,{control:l.a.createElement(w.a,{checked:s,onChange:m,value:"countShortBreaks"}),label:"Count Breaks Under 15 Minutes"}),l.a.createElement(Z,null),l.a.createElement("hr",null),l.a.createElement(O.a,{color:"secondary",variant:"contained",onClick:W},l.a.createElement(q.a,null)," Delete Everything ",l.a.createElement(q.a,null))))})),X=n(146),ee=n(199),te=Object(E.a)((function(e){return{input:{flexGrow:1,padding:e.spacing(1)},paper:{display:"flex",margin:e.spacing(1),padding:e.spacing(1),textAlign:"center",color:e.palette.text.secondary}}})),ne=Object(s.b)(_,z)((function(e){var t=e.active,n=e.comment,a=e.setComment,r=(e.swapComment,e.preset),o=(e.setPreset,e.addPreset),c=(e.delPreset,e.doDeletePreset,te());return t?l.a.createElement(X.a,{className:c.paper},l.a.createElement(ee.a,{freeSolo:!0,className:c.input,id:"comment",options:r,value:n,onChange:function(e,t){return a(t)},renderInput:function(e){return l.a.createElement(h.a,Object.assign({onChange:function(e){return a(e.target.value)}},e))}}),l.a.createElement(N.a,{variant:"contained","aria-label":"add preset",onClick:function(e){return o(n)}},l.a.createElement(P.a,null))):null})),ae=n(193),re=n(188),oe=n(189),ce=n(71),le=n.n(ce),ie=n(94),ue=n.n(ie),se=n(190),me=n(203),de=n(192),fe=Object(E.a)((function(e){return{root:{"& b":{margin:e.spacing(1),display:"inline-block"},"& td:last-of-type":{paddingLeft:0},"& td:nth-of-type(2)":{paddingLeft:0},width:"100%",backgroundColor:e.palette.background.paper}}})),pe=Object(s.b)(_,z)((function(e){var t=e.row,n=e.editRecord,r=e.delRecord,o=e.workHours,c=e.id,i=Object(a.a)(t,3),u=i[0],s=i[1],m=i[2];return l.a.createElement(re.a,{className:"workday",key:c},l.a.createElement(oe.a,{colSpan:2},l.a.createElement(se.a,{className:"list-date day",format:"DD.MM.",value:u,ampm:!1,onChange:function(e){return n(c,[e.valueOf(),s,m])}}),l.a.createElement("b",null,j()(u).format("dddd")," / ",o,"h")),l.a.createElement(oe.a,null,l.a.createElement(N.a,{onClick:function(e){return r(c)}},l.a.createElement(le.a,null))))})),be=Object(s.b)(_,z)((function(e){var t=e.row,n=e.setEdit,r=e.editRecord,o=e.delRecord,c=(e.workHours,e.preset),i=e.id,u=e.classes,s=Object(a.a)(t,3),m=s[0],d=s[1],f=s[2],p=j()(d).utcOffset(0);return l.a.createElement(re.a,{key:i},l.a.createElement(oe.a,null,l.a.createElement(N.a,{onClick:function(e){return n(-1)}},l.a.createElement(ue.a,null))),l.a.createElement(oe.a,null,l.a.createElement(me.a,{className:"list-date",format:"DD.MM. HH:mm",value:m,ampm:!1,onChange:function(e){return r(i,[e.valueOf(),d,f])}}),l.a.createElement(de.a,{format:"HH:mm",className:"list-time",value:p,ampm:!1,onChange:function(e){return r(i,[m,e.valueOf(),f])}})),l.a.createElement(oe.a,{style:{flexGrow:"1"}},l.a.createElement(ee.a,{freeSolo:!0,className:u.input,id:"comment",options:c,value:f,onChange:function(e,t){return r(i,[m,d,t])},renderInput:function(e){return l.a.createElement(h.a,Object.assign({onChange:function(e){return r(i,[m,d,e.target.value])}},e))}})),l.a.createElement(oe.a,null,l.a.createElement(N.a,{onClick:function(e){return o(i)}},l.a.createElement(le.a,null))))})),ge=Object(s.b)(_,z)((function(e){var t=e.row,n=(e.delRecord,e.setEdit),r=e.editRow,o=(e.workHours,e.preset,e.id),c=e.classes,i=Object(a.a)(t,3),u=i[0],s=i[1],m=i[2],d=j()(s).utcOffset(0);return r===o?l.a.createElement(be,{key:o,id:o,row:t,classes:c}):l.a.createElement(re.a,{key:o},l.a.createElement(oe.a,null,l.a.createElement(N.a,{onClick:function(e){return n(o)}},l.a.createElement(ue.a,null))),l.a.createElement(oe.a,{colSpan:2},l.a.createElement("span",null,j()(u).format("DD.MM. HH:mm")),l.a.createElement("b",null,d.format("HH:mm")),l.a.createElement("span",null,m)))})),ve=Object(s.b)(_,z)((function(e){var t=e.list,n=(e.preset,e.mode),r=(e.delRecord,e.editRecord,e.workHours,fe()),o=l.a.useMemo((function(){return t.filter((function(e){return S(e,n)})).sort((function(e,t){return t[0]-e[0]}))}),[t,n]);return l.a.createElement(ae.a,{className:r.root},l.a.createElement("tbody",null,o.map((function(e,t){return"Workday"===Object(a.a)(e,3)[2]?l.a.createElement(pe,{key:t,id:t,row:e}):l.a.createElement(ge,{key:t,id:t,row:e,classes:r})}))))})),Ee=n(200),he=n(191),ke=Object(E.a)((function(e){return{root:{position:"fixed",bottom:"4em",background:e.palette.background.default,borderTop:"solid 1px ".concat(e.palette.divider),left:"0",right:"0",maxHeight:"3em"}}})),we=Object(s.b)(_,z)((function(e){var t=e.setMode,n=e.mode,a=ke();return l.a.createElement(Ee.a,{className:a.root,variant:"fullWidth",value:n,"aria-label":"select date range"},["Total","Day","Month","Year"].map((function(e){return l.a.createElement(he.a,{key:e,onClick:function(n){return t(e)},label:e,value:e})})))})),Oe=n(40),ye=n(5),je=n(194),Ce=n(149),Se=n(60),xe=n(111),Be=n.n(xe),He=n(110),Me=n.n(He),Re=n(109),We=n.n(Re);var Te=Object(E.a)((function(e){return{menuButton:{marginRight:e.spacing(2)}}})),Ne=Object(s.b)(_,z)((function(e){var t=e.mode,n=e.list,r=e.user,o=e.mailToAddress,c=e.countBreaks,i=e.countShortBreaks,u=Te(),s=l.a.useMemo((function(){return function(e){var t=Object(a.a)(e,4),n=t[0],r=t[1],o=t[2],c=t[3],l=Math.max(0,r.filter((function(e){return x(e,o,c)})).filter((function(e){return S(e,n)})).reduce((function(e,t){return e+t[1]}),0));return"data:text/csv;base64,".concat(btoa(r.sort((function(e,t){return t[0]-e[0]})).filter((function(e){return x(e,o,c)})).filter((function(e){return S(e,n)})).reduce((function(e,t){var n=[B(t[0]),M(t[1]),t[2]],a=n[1],r=n[2];return e+"".concat(n[0],",").concat(a,",").concat(r,"\n")}),"")+"total,".concat(M(l))))}([t,n,c,i])}),[t,n,c,i]),m=l.a.useMemo((function(){return function(e){var t=Object(a.a)(e,6),n=t[0],r=t[1],o=t[2],c=t[3],l=t[4],i=t[5],u=Math.max(0,r.filter((function(e){return x(e,l,i)})).filter((function(e){return S(e,n)})).reduce((function(e,t){return e+t[1]}),0));return"mailto:?to=".concat(c)+"&subject=".concat(encodeURIComponent("Overtime ".concat(o)))+"&body=".concat(encodeURIComponent("Hi,\nthis is my overtime report,\n\nBest regards,\n"+"".concat(o,"\n\n")+"------------------------------------------------\n"+r.sort((function(e,t){return t[0]-e[0]})).filter((function(e){return x(e,l,i)})).filter((function(e){return S(e,n)})).reduce((function(e,t){return e+"".concat(B(t[0]),"\t").concat(M(t[1]),"\t").concat(t[2],"\n")}),"")+"------------------------------------------------\n"+"Total: ".concat(M(u)," hours\n")+"------------------------------------------------\n"))}([t,n,r,o,c,i])}),[t,n,r,o,c,i]);return l.a.createElement(l.a.Fragment,null,l.a.createElement(N.a,{className:u.menuButton,href:m,color:"inherit","aria-label":"mail"},l.a.createElement(We.a,null)),l.a.createElement(N.a,{className:u.menuButton,download:R(r,t),href:s,color:"inherit","aria-label":"csv"},l.a.createElement(Me.a,null)))})),Ae=Object(ye.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1,fontWeight:"bold"}}}))(Object(s.b)(_,z)(function(e){function t(e){var n;return Object(m.a)(this,t),n=Object(f.a)(this,Object(p.a)(t).call(this,e)),e.setTimerComponent(Object(Oe.a)(n)),n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.total,n=e.active,a=e.start,r=e.classes,o=e.insertWorkday;return l.a.createElement(je.a,{position:"fixed",style:{backgroundColor:n?"red":null}},l.a.createElement(Ce.a,null,l.a.createElement(Se.a,{variant:"h6",className:r.title},n?"".concat(j()(a).format("HH:mm")," ").concat(function(e){return j()(e).toNow(!0)}(a)," / ").concat(H(t)," "):H(t)),l.a.createElement(N.a,{className:r.menuButton,color:"inherit","aria-label":"workday",onClick:function(e){return o()}},l.a.createElement(Be.a,null)),l.a.createElement(Ne,null)))}}]),t}(l.a.Component))),Pe=n(195),Ie=n(196),Ue=n(113),De=n.n(Ue),Le=n(114),Fe=n.n(Le),Ge=n(97),Je=n.n(Ge),Ye=n(115),ze=n.n(Ye),_e=Object(E.a)({root:{position:"fixed",bottom:0,left:0,right:0,boxShadow:"black 0 0 5px",zIndex:1}}),Ve=Object(s.b)(_,z)((function(e){var t=e.toggle,n=e.active,r=e.swapComment,o=l.a.useState("recents"),c=Object(a.a)(o,2),i=c[0],u=c[1],s=_e();return l.a.createElement(Pe.a,{position:"fixed",value:i,onChange:function(e,t){u(t)},className:s.root},l.a.createElement(v.b,{to:"/settings"},l.a.createElement(Ie.a,{label:"Settings",value:"settings",icon:l.a.createElement(De.a,null)})),l.a.createElement(v.b,{to:"/"},l.a.createElement(Ie.a,{label:"List",value:"recents",icon:l.a.createElement(Fe.a,null)})),n?l.a.createElement(v.b,{onClick:function(e){return r()}},l.a.createElement(Ie.a,{label:"swap",icon:l.a.createElement(Je.a,{color:"primary"})})):l.a.createElement(v.b,{onClick:function(e){}},l.a.createElement(Ie.a,{disabled:!0,label:"swap",icon:l.a.createElement(Je.a,{color:"disabled"})})),l.a.createElement(v.b,{onClick:t},l.a.createElement(Ie.a,{label:"toggle",icon:n?l.a.createElement(le.a,{color:"secondary"}):l.a.createElement(ze.a,{color:"action"})})))})),Ze=Object(s.b)(_,z)((function(e){var t=e.location;return console.log(t),l.a.createElement("div",{className:"mainFrame",style:{position:"fixed",top:"56px",bottom:"/"===t.pathname?"104px":"4em",left:"5px",right:"5px",overflow:"auto",boxShadow:"black 0 0 3px"}},l.a.createElement(g.c,null,l.a.createElement(g.a,{path:"/settings",component:Q}),l.a.createElement(g.a,{path:"/tools",component:Q}),l.a.createElement(g.a,{path:"/"},l.a.createElement(ne,null),l.a.createElement(ve,null),l.a.createElement(we,null))),l.a.createElement(Ve,null))})),$e=Object(s.b)(_,z)(function(e){function t(e){var n;return Object(m.a)(this,t),n=Object(f.a)(this,Object(p.a)(t).call(this,e)),console.log("init"),n}return Object(b.a)(t,e),Object(d.a)(t,[{key:"componentWillUnmount",value:function(){this.props.clearTimer()}},{key:"render",value:function(){var e=this.props,t=e.mode,n=e.list,a=e.countBreaks,r=e.countShortBreaks,o=Math.max(0,n.filter((function(e){return x(e,a,r)})).filter((function(e){return S(e,t)})).reduce((function(e,n){return S(n,t)?e+n[1]:e}),0));return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(Ae,{total:o}),l.a.createElement(g.a,{path:"/",component:Ze})))}}]),t}(l.a.Component)),qe=n(117),Ke=n(197),Qe=n(198),Xe=n(15),et=n(116);n(144);j.a.updateLocale("de",{relativeTime:{future:"%s",past:"%s",s:">1m",m:"1m",mm:"%dm",h:"1h",hh:"%dh",d:"1d",dd:"%dd",M:"1m",MM:"%dm",y:"1y",yy:"%dy"}});var tt=Object(qe.a)({palette:{type:"dark"}}),nt=Object(qe.a)({palette:{type:"light"}});u.a.render(l.a.createElement(s.a,{store:V},l.a.createElement(Xe.a,{libInstance:j.a,utils:et.a,locale:"de"},l.a.createElement((function(e){var t=e.children,n=l.a.useState(!1),r=Object(a.a)(n,2),o=r[0],c=r[1];return window.setLight=c,l.a.createElement(Ke.a,{theme:o?nt:tt},t)}),null,l.a.createElement(Qe.a,null),l.a.createElement($e,null)))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/overtime",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/overtime","/service-worker.js");r?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):o(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):o(t,e)}))}}()}},[[131,1,2]]]);
//# sourceMappingURL=main.2c20dc0e.chunk.js.map