(this.webpackJsonpovertime=this.webpackJsonpovertime||[]).push([[0],{20:function(e,t,n){e.exports=n(34)},26:function(e,t,n){},27:function(e,t,n){},34:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(12),o=n.n(c),l=(n(25),n(26),n(8)),i=n(17),s=n(13),u=n(14),m=n(18),h=n(15),v=n(19),f=(n(27),n(36)),d=n(37),g=n(38),E=n(39),w=n(6),p=n(7),k=window.localStorage,S=function(e){return"".concat(e.getHours()-1,"h ").concat(e.getMinutes(),"m ").concat(e.getSeconds(),"s")},b={list:[],preset:["Work","Prep","Meet"],weeklyHours:32,user:"teacher",counter:{active:!1,start:null,comment:""}},y=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(m.a)(this,Object(h.a)(t).call(this,e))).commitCounterState=function(e){n.setState({counter:e})},n.push=function(e){n.setState({list:[e].concat(n.state.list)})},n.delete=function(e){return function(t){n.setState({list:Object(i.a)(n.state.list.filter((function(t,n){return n!==e})))})}},n.changeWeeklyHours=function(e){return n.setState({weeklyHours:parseFloat(e.target.value)})},n.changeUser=function(e){return n.setState({user:e.target.value})},n.changeComment=function(e){return function(t){var a=n.state.list;a[e][2]=t.target.value,n.setState({list:a})}},n.toggle=function(e){return n.setState(n.state.active?n.deactivate():n.activate())},n.activate=function(e){return n.timer=setInterval((function(e){n.forceUpdate()}),1e3),{active:!0,start:Date.now()}},n.deactivate=function(e){clearInterval(n.timer);var t=Date.now()-n.state.start;return n.push([Date.now(),t,n.state.comment]),{active:!1,start:null,comment:""}},n.change=function(e){n.setState({comment:e.target.value}),n.state.commitCounterState(n.state)},n.preset=function(e){return function(t){return n.setState({comment:e})}},n.state=function(e){return JSON.parse(k.getItem("overtime")||"null")||e}(b),n.state.counter.active&&n.activate(),n}return Object(v.a)(t,e),Object(u.a)(t,[{key:"componentDidUpdate",value:function(){var e;e=this.state,k.setItem("overtime",JSON.stringify(e))}},{key:"componentWillUnmount",value:function(){this.commitCounterState(this.state),clearInterval(this.timer)}},{key:"render",value:function(){var e=this,t=this.state.list.reduce((function(e,t){return e+t[1]}),0),n=this.state,a=n.list,c=n.start,o=n.active,i=n.preset,s=n.user,u=n.weeklyHours,m=new Date(Date.now()-c),h="data:text/csv;base64,".concat(btoa(a.reduce((function(e,t){return e+"".concat((n=t[0],new Date(n).toLocaleDateString("de-DE")),",").concat(function(e){return e/1e3/60/60}(t[1]),",").concat(t[2],"\n");var n}),"")));return r.a.createElement(f.a,null,r.a.createElement(d.a,{onClick:this.toggle,className:o?"trig active":"trig"},this.state.active?"Stop":"Start",r.a.createElement("br",null),this.state.start?S(m):null),r.a.createElement(g.a,null,r.a.createElement(D,{user:s,changeUser:this.changeUser,weeklyHours:u,changeWeeklyHours:this.changeWeeklyHours}),r.a.createElement(E.a,{placeholder:"Comment",onChange:this.change,value:this.state.comment}),r.a.createElement(g.a.Append,null,i.map((function(t){return r.a.createElement(d.a,{key:t,onClick:e.preset(t)},t)})))),r.a.createElement("table",{className:"table striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Comment"),r.a.createElement("th",{width:"1"},"Tools"))),r.a.createElement("tbody",null,a.map((function(t,n){var a=Object(l.a)(t,3),c=a[0],o=a[1],i=a[2];return r.a.createElement("tr",{key:n},r.a.createElement("td",null,new Date(c).toLocaleDateString("de-DE"),"\xa0",new Date(c).toLocaleTimeString("de-DE")),r.a.createElement("td",null,S(new Date(o))),r.a.createElement(C,{value:i,changeComment:e.changeComment(n)}),r.a.createElement("td",{width:"1"},r.a.createElement(d.a,{variant:"danger",onClick:e.delete(n)},r.a.createElement(w.a,{icon:p.c}))))}))),r.a.createElement("tfoot",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Total:"),r.a.createElement("th",{colSpan:2},S(new Date(t))),r.a.createElement("td",{width:"1"},r.a.createElement("a",{className:"btn",download:"".concat(s,".csv"),href:h},r.a.createElement(w.a,{icon:p.d})))))))}}]),t}(r.a.Component);function C(e){var t=e.value,n=e.changeComment,a=r.a.useState(!1),c=Object(l.a)(a,2),o=c[0],i=c[1];return o?r.a.createElement("td",null,r.a.createElement(g.a,null,r.a.createElement(E.a,{value:t,onChange:n}),r.a.createElement(g.a.Append,null,r.a.createElement(d.a,{onClick:function(e){return i(!1)}},r.a.createElement(w.a,{icon:p.b}))))):r.a.createElement("td",{onClick:function(e){return i(!0)}},t)}function D(e){var t=r.a.useState(!1),n=Object(l.a)(t,2),a=n[0],c=n[1];return a?r.a.createElement(r.a.Fragment,null,r.a.createElement(g.a.Prepend,null,r.a.createElement(d.a,{onClick:function(e){return c(!a)}},r.a.createElement(w.a,{icon:p.a}))),r.a.createElement(E.a,{name:"user",value:e.user,onChange:e.changeUser}),r.a.createElement(E.a,{name:"weeklyHours",value:e.weeklyHours,onChange:e.changeWeeklyHours})):r.a.createElement(g.a.Prepend,null,r.a.createElement(d.a,{onClick:function(e){return c(!a)},title:"user / weeklyHours"},r.a.createElement(w.a,{icon:p.a})," ",e.user," / ",e.weeklyHours," hrs"))}var W=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(y,null))},H=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(W,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/overtime",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/overtime","/service-worker.js");H?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):O(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):O(t,e)}))}}()}},[[20,1,2]]]);
//# sourceMappingURL=main.89a05b4a.chunk.js.map